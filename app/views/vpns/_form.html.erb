<!DOCTYPE html>
<html>
<head>
  <title>Meu Aplicativo</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <!-- Incluir a biblioteca jQuery -->
  <%= javascript_include_tag 'https://code.jquery.com/jquery-3.6.0.min.js' %>

  <!-- Incluir a biblioteca do Google Charts -->
  <%= javascript_include_tag '//www.gstatic.com/charts/loader.js' %>

  <!-- Carregar o arquivo JavaScript principal -->
  <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

  <!-- Incluir o CSS do Bootstrap -->
  <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css', media: 'all', 'data-turbolinks-track': 'reload' %>

  <!-- Carregar o arquivo de estilo específico -->
  <%= stylesheet_link_tag 'vpns/vpns', media: 'all', 'data-turbolinks-track': 'reload' %>

  <!-- Incluir a referência à folha de estilo específica da view -->
  <%= yield :stylesheet %>
</head>
<body>

  <div class="container mt-5">
    <div class="card shadow-lg">
      <div class="card-header text-center bg-primary text-white">
        <h3>Configurar VPN</h3>
      </div>
      <div class="card-body">
        <%= form_with(model: vpn, local: true, class: "p-3") do |form| %>
          <!-- Exibir erros de validação -->
          <% if vpn.errors.any? %>
            <div class="alert alert-danger">
              <h4><%= pluralize(vpn.errors.count, "erro") %> impedem esta VPN de ser salva:</h4>
              <ul>
                <% vpn.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          <% end %>

          <!-- Campo Local -->
          <div class="form-group">
            <%= form.label :local, class: "font-weight-bold" %>
            <%= form.text_field :local, class: "form-control", placeholder: "Insira o local" %>
          </div>

          <!-- Campo Nome da Conexão -->
          <div class="form-group">
            <%= form.label :nomedaconexao, class: "font-weight-bold" %>
            <%= form.text_field :nomedaconexao, class: "form-control", placeholder: "Insira o nome da conexão" %>
          </div>

          <!-- Campo Gateway Remoto -->
          <div class="form-group">
            <%= form.label :gatewayremoto, class: "font-weight-bold" %>
            <%= form.text_field :gatewayremoto, class: "form-control", placeholder: "Insira o gateway remoto" %>
          </div>

          <!-- Campo Chave -->
          <div class="form-group">
            <%= form.label :chave, class: "font-weight-bold" %>
            <%= form.text_field :chave, class: "form-control", placeholder: "Insira a chave de conexão" %>
          </div>

          <!-- Botão de submissão -->
          <div class="text-center">
            <%= form.submit 'Salvar VPN', class: 'btn btn-success btn-lg' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <!-- Inclusão do JavaScript do Bootstrap -->
  <%= javascript_include_tag 'https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js', 'data-turbolinks-track': 'reload' %>

  <%= javascript_tag do %>
    // Carregar a biblioteca do Google Charts
    google.charts.load('current', { 'packages': ['corechart'] });
  <% end %>

</body>
</html>
